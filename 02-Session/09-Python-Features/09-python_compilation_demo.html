<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Python Compilation Process</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        }

        h1 {
            text-align: center;
            color: #2c3e50;
            margin-bottom: 30px;
            font-size: 2.5em;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }

        .process-flow {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 40px 0;
            flex-wrap: wrap;
            gap: 20px;
        }

        .step {
            flex: 1;
            min-width: 200px;
            background: white;
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .step:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
        }

        .step-icon {
            width: 60px;
            height: 60px;
            margin: 0 auto 15px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            color: white;
            font-weight: bold;
        }

        .step1 .step-icon { background: #3498db; }
        .step2 .step-icon { background: #e74c3c; }
        .step3 .step-icon { background: #f39c12; }
        .step4 .step-icon { background: #27ae60; }

        .arrow {
            font-size: 30px;
            color: #3498db;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2); }
        }

        .code-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 30px 0;
        }

        .code-container {
            background: #2c3e50;
            border-radius: 10px;
            padding: 20px;
            position: relative;
        }

        .code-header {
            background: #34495e;
            margin: -20px -20px 15px -20px;
            padding: 10px 20px;
            border-radius: 10px 10px 0 0;
            color: #ecf0f1;
            font-weight: bold;
        }

        .code {
            background: #2c3e50;
            color: #ecf0f1;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.5;
            white-space: pre-wrap;
            border-radius: 5px;
        }

        .syntax-error {
            color: #e74c3c;
            font-weight: bold;
        }

        .success {
            color: #27ae60;
            font-weight: bold;
        }

        .interactive-demo {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 30px;
            margin: 30px 0;
        }

        .demo-controls {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            justify-content: center;
            flex-wrap: wrap;
        }

        button {
            background: linear-gradient(45deg, #3498db, #2980b9);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(52, 152, 219, 0.3);
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(52, 152, 219, 0.4);
        }

        button:active {
            transform: translateY(0);
        }

        .demo-output {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 20px;
            border-radius: 10px;
            font-family: 'Courier New', monospace;
            min-height: 100px;
            white-space: pre-wrap;
        }

        .compilation-animation {
            width: 100%;
            height: 200px;
            background: #34495e;
            border-radius: 10px;
            position: relative;
            overflow: hidden;
            margin: 20px 0;
        }

        .compilation-step {
            position: absolute;
            width: 60px;
            height: 60px;
            background: #3498db;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            transition: all 1s ease;
        }

        .moving {
            animation: moveRight 3s ease-in-out;
        }

        @keyframes moveRight {
            0% { left: 10px; }
            25% { left: 25%; background: #e74c3c; }
            50% { left: 50%; background: #f39c12; }
            75% { left: 75%; background: #27ae60; }
            100% { left: calc(100% - 70px); background: #9b59b6; }
        }

        .explanation {
            background: white;
            border-left: 4px solid #3498db;
            padding: 20px;
            margin: 20px 0;
            border-radius: 0 10px 10px 0;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }

        .bytecode-viewer {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            font-family: 'Courier New', monospace;
            font-size: 12px;
        }

        @media (max-width: 768px) {
            .process-flow {
                flex-direction: column;
            }
            
            .code-section {
                grid-template-columns: 1fr;
            }
            
            .arrow {
                transform: rotate(90deg);
                margin: 10px 0;
            }
        }

        .highlight {
            background: yellow;
            padding: 2px 4px;
            border-radius: 3px;
            animation: blink 1s infinite;
        }

        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0.3; }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üêç Python Compilation & Execution Process</h1>
        
        <div class="process-flow">
            <div class="step step1" id="step1">
                <div class="step-icon">üìù</div>
                <h3>Source Code</h3>
                <p>Write Python (.py) file</p>
            </div>
            <div class="arrow">‚Üí</div>
            <div class="step step2" id="step2">
                <div class="step-icon">‚öôÔ∏è</div>
                <h3>Internal Compilation</h3>
                <p>Python interpreter compiles to bytecode</p>
            </div>
            <div class="arrow">‚Üí</div>
            <div class="step step3" id="step3">
                <div class="step-icon">üîç</div>
                <h3>Syntax Check</h3>
                <p>Validates syntax and raises errors if found</p>
            </div>
            <div class="arrow">‚Üí</div>
            <div class="step step4" id="step4">
                <div class="step-icon">üöÄ</div>
                <h3>PVM Execution</h3>
                <p>Python Virtual Machine executes bytecode</p>
            </div>
        </div>

        <div class="explanation">
            <h3>Key Points:</h3>
            <ul>
                <li><strong>No Explicit Compilation:</strong> Unlike C/C++, Python automatically handles compilation internally</li>
                <li><strong>Bytecode Generation:</strong> Source code is compiled to platform-independent bytecode (.pyc files)</li>
                <li><strong>Syntax Error Detection:</strong> Compilation phase catches syntax errors before execution</li>
                <li><strong>PVM Execution:</strong> Python Virtual Machine interprets and executes the bytecode</li>
            </ul>
        </div>

        <div class="interactive-demo">
            <h2>üéÆ Interactive Demonstration</h2>
            <div class="demo-controls">
                <button onclick="runValidCode()">Run Valid Code</button>
                <button onclick="runSyntaxError()">Show Syntax Error</button>
                <button onclick="runRuntimeError()">Show Runtime Error</button>
                <button onclick="showBytecode()">View Bytecode</button>
                <button onclick="animateProcess()">Animate Process</button>
            </div>
            
            <div class="compilation-animation" id="animation">
                <div class="compilation-step" id="compilationDot">üìù</div>
            </div>
            
            <div class="demo-output" id="output">Click a button above to see Python compilation and execution in action!</div>
        </div>

        <div class="code-section">
            <div class="code-container">
                <div class="code-header">‚úÖ Valid Python Code</div>
                <div class="code">def calculate_area(radius):
    """Calculate area of a circle"""
    import math
    return math.pi * radius ** 2

# This will compile successfully
print(f"Area: {calculate_area(5)}")
print("Compilation successful!")
print("PVM executing bytecode...")</div>
            </div>
            
            <div class="code-container">
                <div class="code-header">‚ùå Code with Syntax Error</div>
                <div class="code">def broken_function():
    print("Missing closing parenthesis"
    # SyntaxError: unexpected EOF
    return "This won't execute"

# Interpreter catches this during compilation
print("This line never runs")</div>
            </div>
        </div>

        <div class="bytecode-viewer" id="bytecodeView" style="display: none;">
            <h3>üîß Sample Bytecode Output:</h3>
            <div id="bytecodeContent"></div>
        </div>

        <div class="explanation">
            <h3>üîç Deep Dive: What Happens Internally</h3>
            <p><strong>1. Lexical Analysis:</strong> Python tokenizes the source code</p>
            <p><strong>2. Syntax Analysis:</strong> Parser checks if tokens follow Python grammar</p>
            <p><strong>3. Bytecode Generation:</strong> AST (Abstract Syntax Tree) is compiled to bytecode</p>
            <p><strong>4. PVM Execution:</strong> Bytecode instructions are executed by the virtual machine</p>
            <p><strong>5. Caching:</strong> Bytecode is cached in .pyc files for faster subsequent runs</p>
        </div>
    </div>

    <script>
        function runValidCode() {
            const output = document.getElementById('output');
            const steps = [
                "üìù Reading source code...",
                "‚öôÔ∏è Compiling to bytecode...",
                "‚úÖ Syntax check passed!",
                "üöÄ PVM executing bytecode...",
                "üìä Area: 78.53981633974483",
                "‚úÖ Compilation successful!",
                "üîÑ PVM executing bytecode...",
                "üéâ Program completed successfully!"
            ];
            
            animateSteps(steps, output);
            highlightStep(4);
        }

        function runSyntaxError() {
            const output = document.getElementById('output');
            const steps = [
                "üìù Reading source code...",
                "‚öôÔ∏è Compiling to bytecode...",
                "‚ùå SyntaxError: unexpected EOF while parsing",
                "üõë Compilation failed - execution stopped!",
                "üí° Fix the syntax error and try again"
            ];
            
            animateSteps(steps, output);
            highlightStep(3);
        }

        function runRuntimeError() {
            const output = document.getElementById('output');
            const steps = [
                "üìù Reading source code...",
                "‚öôÔ∏è Compiling to bytecode...",
                "‚úÖ Syntax check passed!",
                "üöÄ PVM executing bytecode...",
                "‚ö†Ô∏è Runtime Error: ZeroDivisionError: division by zero",
                "üõë Program terminated during execution",
                "üí° This error occurs after successful compilation"
            ];
            
            animateSteps(steps, output);
            highlightStep(4);
        }

        function showBytecode() {
            const bytecodeView = document.getElementById('bytecodeView');
            const bytecodeContent = document.getElementById('bytecodeContent');
            
            const sampleBytecode = `  2           0 LOAD_GLOBAL              0 (print)
              2 LOAD_CONST               1 ('Hello, World!')
              4 CALL_FUNCTION            1
              6 POP_TOP

  3           8 LOAD_CONST               2 (10)
             10 LOAD_CONST               3 (5)
             12 BINARY_ADD
             14 STORE_NAME               1 (result)

  4          16 LOAD_GLOBAL              0 (print)
             18 LOAD_NAME                1 (result)
             20 CALL_FUNCTION            1
             22 POP_TOP
             24 LOAD_CONST               0 (None)
             26 RETURN_VALUE`;

            bytecodeContent.textContent = sampleBytecode;
            bytecodeView.style.display = 'block';
            
            const output = document.getElementById('output');
            output.textContent = "üíª Bytecode displayed above! This is what Python internally generates from your source code.";
        }

        function animateProcess() {
            const dot = document.getElementById('compilationDot');
            dot.classList.remove('moving');
            
            setTimeout(() => {
                dot.classList.add('moving');
                const output = document.getElementById('output');
                output.textContent = "üé¨ Watch the compilation process flow from left to right!\n\nüìù Source ‚Üí ‚öôÔ∏è Compile ‚Üí üîç Check ‚Üí üöÄ Execute";
                
                // Highlight steps during animation
                setTimeout(() => highlightStep(1), 0);
                setTimeout(() => highlightStep(2), 750);
                setTimeout(() => highlightStep(3), 1500);
                setTimeout(() => highlightStep(4), 2250);
                setTimeout(() => clearHighlights(), 3500);
            }, 100);
        }

        function animateSteps(steps, output) {
            output.textContent = '';
            let i = 0;
            
            function showNextStep() {
                if (i < steps.length) {
                    output.textContent += steps[i] + '\n';
                    output.scrollTop = output.scrollHeight;
                    i++;
                    setTimeout(showNextStep, 800);
                }
            }
            
            showNextStep();
        }

        function highlightStep(stepNum) {
            clearHighlights();
            const step = document.getElementById(`step${stepNum}`);
            if (step) {
                step.style.background = 'linear-gradient(45deg, #f39c12, #e67e22)';
                step.style.color = 'white';
                step.style.transform = 'scale(1.05)';
            }
        }

        function clearHighlights() {
            for (let i = 1; i <= 4; i++) {
                const step = document.getElementById(`step${i}`);
                if (step) {
                    step.style.background = 'white';
                    step.style.color = '#333';
                    step.style.transform = 'scale(1)';
                }
            }
        }

        // Auto-animate on page load
        window.addEventListener('load', () => {
            setTimeout(animateProcess, 1000);
        });
    </script>
</body>
</html>